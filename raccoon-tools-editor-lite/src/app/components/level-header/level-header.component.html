<div class="level-editor">
  <h2>Level Header</h2>
    <!-- Level Properties Editor -->
  <div class="level-properties">
    <h3>Level Properties</h3>           
    <div class="properties-grid">
      <div class="property-group">
        <label for="id">ID:</label>
        <input 
          id="id"
          type="number" 
          min="1" 
          max="50000"
          [value]="iD$ | async" 
          (change)="onIDChange($event)">
    </div>

      <div class="property-group">
        <label for="gridWidth">Grid Width:</label>
        <input 
          id="gridWidth"
          type="number" 
          min="1" 
          max="12"
          [value]="gridWidth$ | async" 
          (change)="onGridWidthChange($event)">
      </div>
      
      <div class="property-group">
        <label for="gridHeight">Grid Height:</label>
        <input 
          id="gridHeight"
          type="number" 
          min="1" 
          max="12"
          [value]="gridHeight$ | async" 
          (change)="onGridHeightChange($event)">
      </div>
      
      <div class="property-group">
        <label for="cellSize">Cell Size:</label>
        <input 
          id="cellSize"
          type="number" 
          min="16" 
          max="256"
          step="8"
          [value]="cellSize$ | async" 
          (change)="onCellSizeChange($event)">
      </div>        
      <div class="property-group">
        <label for="levelType">Level Type:</label>
        <select 
          id="levelType"
          [ngModel]="levelType$ | async" 
          (ngModelChange)="updateLevelType($event)">
          @for (option of levelTypeOptions; track option.value) {
            <option [value]="option.value">{{ option.name }}</option>
          }
        </select>
      </div>

       <div class="property-group">
        <label for="biomeType">Biome Type:</label>
        <select 
          id="biomeType"
          [ngModel]="biomeType$ | async" 
          (ngModelChange)="updateBiomeType($event)">
          @for (option of biomeTypeOptions; track option.value) {
            <option [value]="option.value">{{ option.name }}</option>
          }
        </select>
      </div>
      
      <div class="property-group full-width">
        <label for="levelDescription">Level Description:</label>
        <input 
          id="levelDescription"
          type="text" 
          [value]="levelDescription$ | async" 
          (input)="onLevelDescriptionInput($event)"
          placeholder="Enter level description...">
      </div>
        <div class="property-group">
        <label for="winX">Win Position X:</label>
        <input 
          id="winX"
          type="number" 
          min="0"
          [value]="(winPosition$ | async)?.X" 
          (change)="onWinXChange($event)">
      </div>
      
      <div class="property-group">
        <label for="winY">Win Position Y:</label>
        <input 
          id="winY"
          type="number" 
          min="0"
          [value]="(winPosition$ | async)?.Y" 
          (change)="onWinYChange($event)">
      </div>
    </div>

    <div class="property-group">
      <label for="numberOfTurns">Number of Turns:</label>
      <input 
        id="numberOfTurns"
        type="number" 
        min="0"
        [value]="numberOfTurns$ | async" 
        (change)="onNumberOfTurnsChange($event)">
    </div>
  </div>

  <!-- Entity Lists -->
  <div class="lists">
    <div class="list">
      <h3>Players ({{ (players$ | async)?.length || 0 }})</h3>
      <ul>
        @for (player of players$ | async; track player.ID) {
          <li>Player {{ player.ID }} - Type: {{ getPlayerTypeName(player.PlayerType) }}</li>
        }
      </ul>
    </div>

    <div class="list">
      <h3>Enemies ({{ (enemies$ | async)?.length || 0 }})</h3>
      <ul>
        @for (enemy of enemies$ | async; track enemy.ID) {
          <li>Enemy {{ enemy.ID }} - Type: {{ getEnemyTypeName(enemy.EnemyType) }}</li>
        }
      </ul>
    </div>

    <div class="list">
      <h3>Obstacles ({{ (obstacles$ | async)?.length || 0 }})</h3>
      <ul>
        @for (obstacle of obstacles$ | async; track obstacle.ID) {
          <li>Obstacle {{ obstacle.ID }} - Type: {{ getObstacleTypeName(obstacle.ObstacleType) }}</li>
        }
      </ul>
    </div>
  </div>
  
  <app-visualizer></app-visualizer>
</div>

